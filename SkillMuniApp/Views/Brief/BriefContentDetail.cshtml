
@{
    ViewBag.Title = "BriefContentDetail";
    Layout = "~/Views/Shared/_cms_Layout.cshtml";
    //int flag = (int)ViewData["flag"];
}
<link rel="stylesheet" href="~/Content/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
<script type="text/javascript" src="~/Content/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<link rel="stylesheet" href="~/Content/datatable/css/jquery.dataTables.min.css" />
<link rel="stylesheet" href="~/Content/datatable/css/dataTables.bootstrap.min.css" />
<script type="text/javascript" src="~/Content/datatable/js/jquery.dataTables.min.js"></script>



<style>
    .switch {
        position: relative;
        height: 26px;
        width: 120px;
        /*margin: 20px auto;*/
        background: rgba(0, 0, 0, 0.25);
        border-radius: 3px;
        -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px rgba(255, 255, 255, 0.1);
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px rgba(255, 255, 255, 0.1);
    }

    .switch-label {
        position: relative;
        z-index: 2;
        float: left;
        width: 58px;
        line-height: 26px;
        font-size: 11px;
        color: rgba(255, 255, 255, 0.35);
        text-align: center;
        text-shadow: 0 1px 1px rgba(0, 0, 0, 0.45);
        cursor: pointer;
    }

        .switch-label:active {
            font-weight: bold;
        }

    .switch-label-off {
        padding-left: 2px;
    }

    .switch-label-on {
        padding-right: 2px;
    }


    .switch-input {
        display: none;
    }

        .switch-input:checked + .switch-label {
            font-weight: bold;
            color: rgba(0, 0, 0, 0.65);
            text-shadow: 0 1px rgba(255, 255, 255, 0.25);
            -webkit-transition: 0.15s ease-out;
            -moz-transition: 0.15s ease-out;
            -ms-transition: 0.15s ease-out;
            -o-transition: 0.15s ease-out;
            transition: 0.15s ease-out;
            -webkit-transition-property: color, text-shadow;
            -moz-transition-property: color, text-shadow;
            -ms-transition-property: color, text-shadow;
            -o-transition-property: color, text-shadow;
            transition-property: color, text-shadow;
        }

        .switch-input:checked + .switch-label-on ~ .switch-selection {
            left: 60px;
            /* Note: left: 50%; doesn't transition in WebKit */
        }

    .switch-selection {
        position: absolute;
        z-index: 1;
        top: 2px;
        left: 2px;
        display: block;
        width: 58px;
        height: 22px;
        border-radius: 3px;
        background-color: #65bd63;
        background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #9dd993), color-stop(100%, #65bd63));
        background-image: -webkit-linear-gradient(top, #9dd993, #65bd63);
        background-image: -moz-linear-gradient(top, #9dd993, #65bd63);
        background-image: -ms-linear-gradient(top, #9dd993, #65bd63);
        background-image: -o-linear-gradient(top, #9dd993, #65bd63);
        background-image: linear-gradient(top, #9dd993, #65bd63);
        -webkit-box-shadow: inset 0 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(0, 0, 0, 0.2);
        box-shadow: inset 0 1px rgba(255, 255, 255, 0.5), 0 0 2px rgba(0, 0, 0, 0.2);
        -webkit-transition: left 0.15s ease-out;
        -moz-transition: left 0.15s ease-out;
        -ms-transition: left 0.15s ease-out;
        -o-transition: left 0.15s ease-out;
        transition: left 0.15s ease-out;
    }

    .switch-blue .switch-selection {
        background-color: #3aa2d0;
        background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #4fc9ee), color-stop(100%, #3aa2d0));
        background-image: -webkit-linear-gradient(top, #4fc9ee, #3aa2d0);
        background-image: -moz-linear-gradient(top, #4fc9ee, #3aa2d0);
        background-image: -ms-linear-gradient(top, #4fc9ee, #3aa2d0);
        background-image: -o-linear-gradient(top, #4fc9ee, #3aa2d0);
        background-image: linear-gradient(top, #4fc9ee, #3aa2d0);
    }

    .switch-yellow .switch-selection {
        background-color: #c4bb61;
        background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #e0dd94), color-stop(100%, #c4bb61));
        background-image: -webkit-linear-gradient(top, #e0dd94, #c4bb61);
        background-image: -moz-linear-gradient(top, #e0dd94, #c4bb61);
        background-image: -ms-linear-gradient(top, #e0dd94, #c4bb61);
        background-image: -o-linear-gradient(top, #e0dd94, #c4bb61);
        background-image: linear-gradient(top, #e0dd94, #c4bb61);
    }

    .avatar-upload .avatar-edit input {
        display: none;
    }

    .avatar-upload .avatar-edit {
        position: absolute;
        right: 12px;
        z-index: 1;
    }



    .avatar-upload {
        position: relative;
        max-width: 205px;
        /*margin: 10px auto;*/
    }

        .avatar-upload .avatar-preview {
            width: 192px;
            height: 192px;
            position: relative;
            /*border-radius: 100%;*/
            border: 6px solid #F8F8F8;
            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
        }

    .inputRadThem {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

    .fonticon {
        cursor: pointer;
    }

    /* The Modal (background) */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 2; /* Sit on top */
        padding-top: 200px; /* Location of the box */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
        /*float: right;
        margin-right: 0%;*/
        margin-top: 5%;
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        border: 1px solid #888;
        width: 30%;
    }

    /* The Close Button */
    .close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
</style>
<style>
    .brief-note {
        background-color: #ddf2ff;
        border-left: 6px solid #006ef7;
    }

    .brief-panel {
        margin-top: 6px;
        margin-bottom: 6px;
    }

    .left-space {
        padding-left: 20px;
        font-weight: 800;
    }
</style>

@{
    tbl_brief_master brief = (tbl_brief_master)ViewData["briefmaster"];
    tbl_brief_category category = (tbl_brief_category)ViewData["category"];
    tbl_brief_subcategory subcategory = (tbl_brief_subcategory)ViewData["subcategory"];
    List<tbl_brief_question> questions = (List<tbl_brief_question>)ViewData["questions"];
    List<tbl_brief_metadata> metadata = (List<tbl_brief_metadata>)ViewData["metadata"];
    bool flag = (bool)ViewData["accessFlag"];
    tbl_brief_master_template bTemplate = (tbl_brief_master_template)ViewData["bTemplate"];
    List<tbl_brief_master_body> mBody = (List<tbl_brief_master_body>)ViewData["mBody"];
    var request = HttpContext.Current.Request;

    var baseUrl = request.Url.Scheme + "://" + request.Url.Authority + "/" + request.ApplicationPath;
}
@using (Html.BeginForm("finishQuestionContentAction", "Brief", FormMethod.Post, new { id = "form-add-brief-question", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="row clearfix">
        <div class="col-md-12 column">
            <div class="panel panel-default custom-panel">
                <div class="panel-heading custom-panel-heading">
                    <div class="panel-title">skillmuni brief</div>
                </div>
                <div class="panel-body custom-panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <a style="margin-left:5px;" href="@Url.Action("Index", "dashboard")" class="btn btn-default  pull-right">Close&nbsp;<i class="glyphicon glyphicon-folder-close"></i></a>
                            <a style="margin-left:5px;" href="@Url.Action("modifyBriefCont", "Brief", new { brf = brief.brief_code })" class="btn btn-default  pull-right">Edit Brief&nbsp;<i class="glyphicon glyphicon-edit"></i></a>
                            <a style="margin-left:5px;" href="@Url.Action("cleanBriefContent", "Brief", new { brf = brief.brief_code })" class="btn btn-danger  pull-left"><i class="glyphicon glyphicon-trash"></i>&nbsp; Remove Brief&nbsp;</a>
                            @*@if (flag)
                                {
                                    <a style="margin-left:5px;" href="@Url.Action("approveBriefAction", "Brief", new { brf = brief.brief_code })" class="btn btn-default  pull-right">Approve Brief&nbsp;<i class="glyphicon glyphicon-folder-close"></i></a>
                                }*@
                        </div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <div class="col-md-4">
                                            <span class="">category</span><br />
                                            <span class="control-label left-space"> @category.brief_category</span>
                                        </div>
                                        <div class="col-md-4">
                                            <span class="control-label">sub-category</span><br />
                                            <span class="control-label left-space">@subcategory.brief_subcategory</span>
                                        </div>
                                        @*<div class="col-md-4">
                                            <span class="control-label ">Expiry Date</span><br />
                                            <strong> <span class="control-label left-space">@brief.scheduled_timestamp.Value.ToString("dd-MM-yyyy HH:mm")</span></strong>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <hr />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="div-theme-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <span class="">brief title</span><br />
                                        <input type="hidden" name="id_brief_master" id="id_brief_master" value="@brief.id_brief_master" />
                                        <label class="left-space">@brief.brief_title</label>
                                        
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <span class="">brief content</span>
                                        <div class="row" style="width:auto;">
                                            <div class="col-md-12">
                                                @foreach (tbl_brief_master_body row in mBody)
                                                {
                                                    if (row.resource_type == 1)
                                                    {
                                                        @Html.Raw(WebUtility.HtmlDecode(row.resouce_data))
                                                    }
                                                    if (row.resource_type == 2)
                                                    {
                                                        if (row.media_type == 1)
                                                        {
                                                            <div class="resp-container">
                                                                <iframe class="resp-iframe" src="@(baseUrl + row.brief_destination + row.resouce_data)" gesture="media" allow="encrypted-media"></iframe>
                                                            </div>
                                                        }
                                                        else if (row.media_type == 2)
                                                        {
                                                            <div class="resp-container">
                                                                <iframe class="resp-iframe" src="@row.resouce_data" allow="encrypted-media"></iframe>
                                                            </div>
                                                        }

                                                    }

                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-3">
                                        <label class="control-label">metadata</label>
                                    </div>
                                    <div class="col-md-9">
                                        <label class="left-space">
                                            @{
                                                foreach (tbl_brief_metadata item in metadata)
                                                {
                                                    @(item.brief_metadata + "  ")
                                                }
                                            }
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />

                    <div class="col-md-12">
                        <div class="panel panel-default custom-panel">
                            <div class="panel-heading custom-panel-heading">
                                <input type="hidden" id="row-count-hidden" value="1" />
                                <div class="panel-title">questions associated to brief </div>
                            </div>

                            <div class="panel-body custom-panel-body" id="panelBody">
                                @foreach (tbl_brief_question item in questions)
                                {
                                    <div class="brief-panel brief-note"> <p style="padding:6px;">@item.brief_question <a style="margin-left:5px;" href="@Url.Action("DeleteQuestionContent","Brief",new {id_qtn = item.id_brief_question})" class="btn btn-default  pull-right"><i class="fa fa-trash"></i></a> <a style="margin-left:5px;" href="@Url.Action("EditQuestionContent","Brief",new {idQue = item.id_brief_question})" class="btn btn-default  pull-right"><i class="glyphicon glyphicon-edit"></i></a> </p></div>
                                   
                                }
                            </div>
                        </div>
                    </div>
                    <div id="div-error-limit" class="form-group" style="text-align:center;display:none;">
                        <label class="control-label" style="color:red;">question limit is reached ,you cannot add more questions</label>
                    </div>
                    @*BRIEF QUESTION VIEW STARTED*@


                    <div class="panel-body custom-panel-body">

                        <div class="row" id="Questionform">
                            <div class="col-md-12">
                                <div id="div-theme-body">
                                    <div class="row">
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <label class="control-label">How many question/s do you want to upload with this brief?</label>
                                            @if (brief.question_count > 0)
                                            {
                                                <select id="question-count" name="question-count" class="form-control " disabled="disabled">


                                                    <option value="@brief.question_count">@brief.question_count</option>


                                                </select>
                                            }
                                            else
                                            {
                                                <select id="question-count" name="question-count" class="form-control " onchange="setCount('question-count')">

                                                    @for (int i = 1; i < 11; i++)
                                                    {
                                                        <option value="@i">@i</option>
                                                    }

                                                </select>
                                            }
                                            <br />

                                        </div>
                                    </div>
                                    <div class="form-group" id="choiceImg" style="@if (questions.Count == brief.question_count && brief.question_count>0) { @("display:none;")} ">

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Brief Question </label>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="form-group">
                                                    <input type="radio" class="inputRadThem" name="themtyp" id="radthm1" value="1" />
                                                    <i class="fa fa-file-text fa-2x fonticon" aria-hidden="true" onclick="radThemSel(1)"></i>
                                                    <input type="radio" class="inputRadThem" name="themtyp" id="radthm2" value="2" />
                                                    <i class="fa fa-picture-o fa-2x fonticon" aria-hidden="true" onclick="radThemSel(2)"></i>
                                                    <input type="radio" class="inputRadThem" name="themtyp" id="radthm3" value="3" />
                                                    <i class="fa fa-newspaper-o fa-2x fonticon" aria-hidden="true" onclick="radThemSel(3)"></i>
                                                </div>
                                            </div>
                                            <div class="col-md-3" id="textsel" style="display:none">
                                                <div class="form-group">
                                                    <input class="form-control" placeholder="Your Question" name="questionText" />
                                                </div>
                                            </div>
                                            <div class="col-md-3" id="imagesel">
                                                <input type="text" class="form-control" readonly value="" placeholder="Brief Image" id="league-image" name="league-image" />
                                                <div class="fileUpload btn btn-primary" style="float:right;margin-top:-13%;">
                                                    <span>Browse</span>
                                                    <input id="league-btn" name="league-btn" class="upload" type="file" accept="image/*" onchange="imgeBrieQues(this, 'league-btn', 'league-image', 'logo-text')" />
                                                </div>
                                            </div>
                                            <div class="col-md-1" id="imagePrev">
                                                <div class="avatar-upload" style="margin:-10px auto;">
                                                    <div class="avatar-preview" style="width:50px;height:50px;margin-left:auto;margin-right:auto;">
                                                        <img id="briefImgQue" style="display:none;width:40px;height:40px;padding:5%;">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-1">
                                                <label>Choice No</label>
                                            </div>
                                            <div class="col-md-2"><label>Theme</label></div>
                                            <div class="col-md-7">
                                                <label>Option</label>
                                            </div>
                                            <div class="col-md-1">
                                                <label>Right Option</label>
                                            </div>
                                            <div class="col-md-1">
                                                <label>Action</label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                @*<input type="hidden" id="imgChoiCount" name="imgChoiCount" value="1" />*@
                                                <div class="col-md-1">
                                                    <label>1 </label>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="form-group">
                                                        <input type="radio" class="inputRadThem" name="choiceType1" id="radCho11" value="1" />
                                                        <i class="fa fa-file-text fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(1,1)"></i>
                                                        <input type="radio" class="inputRadThem" name="choiceType1" id="radCho21" value="2" />
                                                        <i class="fa fa-picture-o fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(2,1)"></i>
                                                        <input type="radio" class="inputRadThem" name="choiceType1" id="radCho31" value="3" checked />
                                                        <i class="fa fa-newspaper-o fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(3,1)"></i>
                                                    </div>
                                                </div>
                                                <div class="col-md-3" id="textsel1">
                                                    <div class="form-group">
                                                        <input class="form-control" placeholder="Your Choice" name="questionText1" required/>
                                                    </div>
                                                </div>
                                                <div class="col-md-3" id="imagesel1">
                                                    <input type="text" class="form-control" readonly value="" placeholder="Brief Image" id="league-image1" name="league-image1" />
                                                    <div class="fileUpload btn btn-primary" style="float:right;margin-top:-13%;">
                                                        <span>Browse</span>
                                                        <input id="league-btn1" name="imgBrief-btn1" class="upload" type="file" accept="image/*" onchange="imgeBrie(this, 'league-btn1', 'league-image1', 'logo-text',1)" />
                                                    </div>
                                                </div>
                                                <div class="col-md-1" id="imagePrev1">
                                                    <div class="avatar-upload">
                                                        <div class="avatar-preview" style="width:50px;height:50px;margin-left:auto;margin-right:auto;">
                                                            <img id="leaguimg1" style="display:none;width:40px;height:40px;padding:5%;">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-1">
                                                    <div class="checkbox" style="margin-top: 2px;margin-bottom: 2px;">
                                                        <label>
                                                            <input type="radio" id="check-box-img-1"
                                                                   name="check-box-img-option" value="1" checked="checked" />
                                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        </label>
                                                    </div>
                                                </div>
                                                @*<div class="col-md-1" id="league_add_btn_div_1">
                                                        <label class="control-label"><a onclick="addImgCheck(1)"><i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i></a> </label>
                                                    </div>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <input type="hidden" id="imgChoiCount" name="imgChoiCount" value="2" />
                                                <div class="col-md-1">
                                                    <label>2 </label>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="form-group">
                                                        <input type="radio" class="inputRadThem" name="choiceType2" id="radCho12" value="1" />
                                                        <i class="fa fa-file-text fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(1,2)"></i>
                                                        <input type="radio" class="inputRadThem" name="choiceType2" id="radCho22" value="2" />
                                                        <i class="fa fa-picture-o fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(2,2)"></i>
                                                        <input type="radio" class="inputRadThem" name="choiceType2" id="radCho32" value="3" checked />
                                                        <i class="fa fa-newspaper-o fa-2x fonticon" aria-hidden="true" onclick="radChoiSel(3,2)"></i>
                                                    </div>
                                                </div>
                                                <div class="col-md-3" id="textsel2">
                                                    <div class="form-group">
                                                        <input class="form-control" placeholder="Your Choice" name="questionText2" required/>
                                                    </div>
                                                </div>
                                                <div class="col-md-3" id="imagesel2">
                                                    <input type="text" class="form-control" readonly value="" placeholder="Brief Image" id="league-image2" name="league-image2" />
                                                    <div class="fileUpload btn btn-primary" style="float:right;margin-top:-13%;">
                                                        <span>Browse</span>
                                                        <input id="league-btn2" name="imgBrief-btn2" class="upload" type="file" accept="image/*" onchange="imgeBrie(this, 'league-btn2', 'league-image2', 'logo-text',2)" />
                                                    </div>
                                                </div>
                                                <div class="col-md-1" id="imagePrev2">
                                                    <div class="avatar-upload">
                                                        <div class="avatar-preview" style="width:50px;height:50px;margin-left:auto;margin-right:auto;">
                                                            <img id="leaguimg2" style="display:none;width:40px;height:40px;padding:5%;">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-1">
                                                    <div class="checkbox" style="margin-top: 2px;margin-bottom: 2px;">
                                                        <label>
                                                            <input type="radio" id="check-box-img-2"
                                                                   name="check-box-img-option" value="2" checked="checked" />
                                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-1" id="league_add_btn_div_2">
                                                    <label class="control-label"><a onclick="addImgCheck(2)"><i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i></a> </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" id="imgConAdd">

                                        </div>

                                        <div class="form-group" id="briefQues">



                                            <div class="row" id="qtn-option-2">
                                                <input type="hidden" value="2" id="hid-row-count" name="hid-row-count" />


                                            </div>
                                        </div>
                                        <div id="div-qtn-option">
                                        </div>
                                        <br />
                                        <hr />
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label class="control-label">MetaData</label>
                                                <div id="theme-1-header" class="form-group">
                                                    <input type="text" class="form-control validate[required]" value="" placeholder="add metadata to question separated by comma " id="question-metadata" name="question-metadata" />
                                                </div>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row" id="qtn-option-0">
                                            <div class="col-md-1">
                                            </div>
                                            <div class="col-md-10">
                                            </div>
                                            <div class="col-md-1">
                                                <div class="btn btn-primary" style="width: 60px;" onclick="questionrestrict()">Save</div>


                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr />
                        @if (questions.Count == brief.question_count && brief.question_count > 0 && brief.status == "A")
                        {
                            <div id="btnidlast">
                                <input type="button" style="margin-left: 969px;" class="btn btn-primary" id="buttonid" value="Send and submit" />
                            </div>
                        }
                    </div>

                    <!-- The Modal -->
                    <div class="content-name">
                        <div id="myModal" class="modal">

                            <!-- Modal content -->
                            <div class="modal-content">
                                <span class="close" onclick="closeModal()">&times;</span>
                                <center><i class="fa fa-check-circle-o fa-4x" style="color:forestgreen" aria-hidden="true"></i></center>
                                <p style="text-align:center;">Question Created Succesffully</p>
                                <center><span onclick="closeModal()" class="btn btn-primary"> okay </span></center>
                            </div>
                        </div>
                    </div>






                    @*BRIEF QUESTION VIEW ENDED*@


                </div>
                <hr />
            </div>
        </div>
    </div>
}
<script>

    $(document).ready(function () {
        $("#form-add-brief-question").validationEngine();

        $("#datetimepicker2").datetimepicker({
            minDate: 0,
            dateFormat: "dd-mm-yy",
            minDate: new Date(),
            onSelect: function (selected) {
                var date = $(this).datetimepicker('getDate');
            }
        });


    });

    @*function modalFlag() {
        var fl = @flag;
        if (fl == 1) {
            var modal = document.getElementById("myModal");
            modal.style.display = "block";
        }
    }*@



    function addNewOption() {

        var option = '';
        var id = $("#hid-row-count").val();
        var countVal = parseInt(id) + 1;
        var vcheck = $("#brief-option-" + id).val();

        if (vcheck.length > 0) {
            $("#addoption" + id).hide();
            var ids = parseInt(id) + 1;
            if (ids < 7) {
                option = option + '<div class="row" id="qtn-option-' + ids + '"><div class="col-md-1">' + ids + ' </div><div class="col-md-9"> ';
                option = option + '<div id="theme-1-header" class="form-group">';
                option = option + '<input type="text" class="form-control validate[required]" value="" placeholder="option ' + ids + ' of question" id="brief-option-' + ids + '" name="brief-option-' + ids + '" />';
                option = option + '</div></div><div class="col-md-1"><div class="checkbox" style="margin-top: 2px;margin-bottom: 2px;"><label> <input type="radio" id="check-box-' + ids + '" name="check-box-option" value="' + ids + '" /> <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span></label></div> </div><div class="col-md-1" id="addoption' + countVal + '"><a href="javascript:void(0)" onclick="addNewOption()" class="btn btn-info"><i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i></a><a href="javascript:void(0)" onclick="DelNewOption()" class="btn btn-danger"><i class="fa fa-times fa-lg" aria-hidden="true"></i></a><br /> <br /></div></div>';
                $("#div-qtn-option").append(option);
                $("#hid-row-count").val(ids);
            }
            else {
                $("#addoption" + 6).show();
            }
        }

    }

    function DelNewOption()
    {
        var id = $("#hid-row-count").val();
        var countVal = parseInt(id);
        var countVal1 = parseInt(id) - 1;
        $("#qtn-option-" + countVal).remove();
        $("#addoption" + countVal1).show();
        var id = $("#hid-row-count").val(countVal1);

        }

        function setCount(e) {
            var a = document.getElementById(e);
            sessionStorage.setItem("count", a.options[a.selectedIndex].value);
        }

    function questionrestrict() {

        var idc = document.getElementById("panelBody").childElementCount;
        var count = (sessionStorage.getItem("count") == null) ? 1 : sessionStorage.getItem("count");
        if ( idc >= count) {
            alert("Question limit crossed");

            document.getElementById("Questionform").style.display = "none";
            document.getElementById("btnidlast").style.display = "";

            return false;
        } else {
            document.getElementById("form-add-brief-question").submit();
        }


    }

    function getSubCategory(val,ids) {

        var url = '@Url.Action("getSubcategoryList", "Brief")';
        if (val != "0") {
            $.ajax({
                type: 'POST',
                url: url,
                data: { cid: val },

                success: function (data) {
                    $("#" + ids).empty().append(data);

                }
            });
        }
    }


    function imgeBrieQues(el, btn, imgf, ban) {
        var file = $("#" + btn + "")[0].files[0];
        var filename = "";
        if (file) {
            filename = file.name;
        } else {
        }
        $("#" + imgf + "").val(filename);
        if (el.files && el.files[0]) {
            var FR = new FileReader();
            FR.onload = function (e) {
                $("#briefImgQue").show();
                $("#briefImgQue").attr("src", e.target.result);

            };
            FR.readAsDataURL(el.files[0]);
        }
    }

    function imgeBrie(el, btn, imgf, ban, idVal) {
       // console.log(idVal);
        if (idVal == 1) {
            var file = $("#" + btn + "")[0].files[0];
            var filename = "";
            if (file) {
                filename = file.name;
            } else {
            }
            $("#" + imgf + "").val(filename);
            if (el.files && el.files[0]) {
                var FR = new FileReader();
                FR.onload = function (e) {
                    $("#leaguimg1").show();
                    $("#leaguimg1").attr("src", e.target.result);

                };
                FR.readAsDataURL(el.files[0]);
            }
        }
        else {
            var file = $("#" + btn + "")[0].files[0];
            var filename = "";
            if (file) {
                filename = file.name;
            } else {
            }
            $("#" + imgf + "").val(filename);
            if (el.files && el.files[0]) {
                var FR = new FileReader();
                FR.onload = function (e) {
                    $("#leaguimg" + idVal).show();
                    $("#leaguimg" + idVal).attr("src", e.target.result);

                };
                FR.readAsDataURL(el.files[0]);
            }
        }

        }





</script>

<script type="text/javascript">
    $('#buttonid').click(function () {
        document.location = '@Url.Action("dashboardContent", "Brief")';
    });
</script>


<script>
    function radThemSel(e) {
        $("#radthm" + e).prop("checked", true);
        checkonchg(e);
    }
    function closeModal() {
        var modal = document.getElementById("myModal");
        modal.style.display = "none";
    }

    function checkonchg(e) {
        //alert(e);
        if (e == 1) {
            $("#textsel").show();
            $("#imagesel").hide();
            $("#imagePrev").hide();
        }
        else if (e == 2) {
            $("#textsel").hide();
            $("#imagesel").show();
            $("#imagePrev").show();
        }
        else if (e == 3) {
            $("#textsel").show();
            $("#imagesel").show();
            $("#imagePrev").show();
        }
    }

    function radChoiSel(e, el) {
        //console.log("radCho" + e + el);
        $("#radCho" + e + el).prop("checked", true);
        Choionchg(e, el);
    }

    function Choionchg(e, el) {
        //var e = String(el).charAt(1);
        if (e == 1) {
            $("#textsel" + el).show();
            $("#imagesel" + el).hide();
            $("#imagePrev" + el).hide();
        }
        else if (e == 2) {
            $("#textsel" + el).hide();
            $("#imagesel" + el).show();
            $("#imagePrev" + el).show();
        }
        else if (e == 3) {
            $("#textsel" + el).show();
            $("#imagesel" + el).show();
            $("#imagePrev" + el).show();
        }
    }

    function showTheme2() {
        //alert($("#thme1").val());
        $("#choiceImg").show();
        $("#briefQues").hide();
        $("#div-qtn-option").hide();
    }
    function showTheme1() {
        //alert('thm1');
        $("#choiceImg").hide();
        $("#briefQues").show();
        $("#div-qtn-option").show();
    }
    //image add function in brief question method
    function addImgCheck(cur) {

        var cur_updated = cur + 1;
        $("#league_add_btn_div_" + cur).hide();
        var str = "<div class='row' id='imageBre-" + cur_updated + "' style='margin-top:1%;'><div class='col-md-1'><label>" + cur_updated + "</label></div><div class='col-md-2'><div class='form-group'><input type='radio' class='inputRadThem' name='choiceType" + cur_updated + "' id='radCho1" + cur_updated + "' value='1' /><i class='fa fa-file-text fa-2x fonticon' aria-hidden='true' onclick='radChoiSel(1, " + cur_updated + ")'></i><input type='radio' class='inputRadThem' name='choiceType" + cur_updated + "' id='radCho2" + cur_updated + "' value='2' /><i class='fa fa-picture-o fa-2x fonticon' aria-hidden='true' onclick='radChoiSel(2, " + cur_updated + ")'></i><input type='radio' class='inputRadThem' name='choiceType" + cur_updated + "' id='radCho3" + cur_updated + "' value='3' checked/><i class='fa fa-newspaper-o fa-2x fonticon' aria-hidden='true' onclick='radChoiSel(3," + cur_updated + ")'></i></div></div><div class='col-md-3' id='textsel" + cur_updated + "'><div class='form-group'><input class='form-control' placeholder='Your Question' name='questionText" + cur_updated + "' /></div></div><div class='col-md-3' id='imagesel" + cur_updated + "'><input type='text' class='form-control' readonly value='' placeholder='Brief Image' id='league-image" + cur_updated + "' name='league-image1' /><div class='fileUpload btn btn-primary' style='float:right;margin-top:-13%;'><span>Browse</span><input id='league-btn" + cur_updated + "' name='imgBrief-btn" + cur_updated + "' class='upload' type='file' accept='image/*' onchange='imgeBrie(this,\"league-btn" + cur_updated + "\",\"league-image" + cur_updated + "\",\"logo-text\"," + cur_updated + ")' /></div></div><div class='col-md-1' id='imagePrev" + cur_updated + "'><div class='avatar-upload'><div class='avatar-preview' style='width:50px;height:50px;margin-left:auto;margin-right:auto;'><img id='leaguimg" + cur_updated + "' style='display:none;width:40px;height:40px;padding:5%;'></div></div></div><div class='col-md-1'><div class='checkbox' style='margin-top: 2px;margin-bottom: 2px;'><label><input type='radio' id='check-box-img-" + cur_updated + "' name='check-box-img-option' value='" + cur_updated + "' checked='checked' /><span class='cr'><i class='cr-icon glyphicon glyphicon-ok'></i></span></label></div></div><div class='col-md-1' id='league_add_btn_div_" + cur_updated + "'><label class='control-label'><a onclick='addImgCheck(" + cur_updated + ")'><i class='fa fa-plus-circle fa-lg' aria-hidden='true'></i></a> <a onclick='delImgCheck(" + cur_updated + ")'><i class='fa fa-times fa-lg' aria-hidden='true' style='color:red;'></i></a></label></div></div>";

        $("#imgConAdd").append(str);
        //$("#leaguecnt").html("");
        //$("#leaguecnt").append("<input type='hidden' id='leagueCoun' value='" + cur_updated + "' name='leaguecount' />");
        $("#imgChoiCount").val(cur_updated);

    }

    function delImgCheck(cur) {
        var cur_updated = cur - 1;
        if (cur == 2) {
            $("#league_add_btn_div_1").show();
            $("#imageBre-" + cur).remove();
            $("#imgChoiCount").val(cur_updated);
        }
        else {
            $("#imageBre-" + cur).remove();
            $("#league_add_btn_div_" + cur_updated).show();
            $("#imgChoiCount").val(cur_updated);
            //addmetric(cur_updated);
        }
    }

        //$(document).ready(function () {
        //    modalFlag();
        //});

</script>