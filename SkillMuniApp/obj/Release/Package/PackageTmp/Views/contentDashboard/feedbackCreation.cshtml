@{
    ViewBag.Title = "Add Feedback";
    Layout = "~/Views/Shared/_cms_Layout.cshtml";
}

<script>
    $(function () {
        $("#form-add-feedback").validationEngine();
    });
    function fun_add_step() {
        var step = $("#step-count").val();
        step++;
        var option = '';     
            option = '<div class="row"><div class="col-md-12"> <div class="form-group"><input type="text" class="form-control" value="" placeholder="Feedback Choice" id="choice-' + step + '" name="choice-' + step + '" /></div></div> </div>';    
        $("#step-count").val(step);
        $("#theme-1-steps").append(option);
    }

    function select_file(btn, imgf) {
        var file = $("#" + btn + "")[0].files[0];
        var filename = "";
        if (file) {
            filename = file.name;
        }
        $("#" + imgf + "").val(filename);
    }

</script>

@using (Html.BeginForm("createFeedback", "contentDashboard", FormMethod.Post, new { id = "form-add-feedback", enctype = "multipart/form-data" }))
{
    <div id="pagecontent_dashboard" class="container">
        <div class="panel panel-default custom-panel">
            <div class="panel-heading custom-panel-heading">
                <div class="panel-title">Add Feedback </div>
            </div>
            
            <div class="panel-body custom-panel-body">
                <div class="row">
                    <div class="col-md-12">
                        <div id="theme-1-header" class="form-group">
                            <input type="text" class="form-control validate[required]" value="" placeholder="Feedback Title" id="feedback-title" name="feedback-title" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <textarea class="form-control validate[required]" name="feedback-question" id="feedback-question" placeholder="Feedback Question" rows="4"></textarea>
                        </div>
                    </div>
                </div>
                <div id="theme-1-steps">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-md-10">

                                </div>
                                <div class="col-md-1">
                                    <input type="hidden" value="1" id="step-count" name="step-count" />
                                    <input id="t-1-btn-steps" type="button" class="btn btn-default btn-info" value="Add More Choice" onclick="fun_add_step()" style="margin-bottom:10px;" />
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <input type="text" class="form-control validate[required]" value="" placeholder="Feedback Choice" id="choice-1" name="choice-1" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="FirstName" class="control-label col-md-1 ">Image:</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control validate[required]" readonly value="" placeholder="Choose Image" id="ImageFile" name="ImageFile" />
                                <div class="fileUpload btn btn-primary">
                                    <span>Browse Image</span>
                                    <input id="uploadBtn" name="uploadBtn" class="upload" type="file" accept="image/*" onchange="select_file('uploadBtn','ImageFile')" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <div class="col-md-2">
                                <input id="btn_question1" type="submit" class="btn btn-default btn-info" name="btn_submit" value="Save Feedback" />
                            </div> 
                            <div class="col-md-2">
                                <input id="btn_question1" type="submit" class="btn btn-default btn-info" name="btn_submit" value="Save and Exit" />
                            </div>                          
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
}

